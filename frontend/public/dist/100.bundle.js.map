{"version":3,"file":"dist/100.bundle.js","mappings":"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","sources":["webpack://front/./src/components/InputTextRut/InputTextRutComponent.jsx","webpack://front/./src/helpers/ValidateEmail.js","webpack://front/./src/helpers/ValidateRut.js","webpack://front/./src/components/UsersComponent/UserAddComponent.jsx","webpack://front/./src/pages/AdminPage/AdminUsersPage/AdminUsersAddPage.jsx","webpack://front/./src/services/axios.js"],"sourcesContent":["import { IMaskInput } from 'react-imask';\nimport { forwardRef } from 'react'\n\nconst InputTextRut = forwardRef(function InputTextRut(props, ref) {\n  const { onChange, ...other } = props\n  return (\n    <IMaskInput\n      {...other}\n      mask=\"00000000-#\"\n      definitions={{\n        '#': /[0-9kK]/,\n      }}\n      inputRef={ref}\n      onAccept={(value) => onChange({ target: { name: props.name, value } })}\n      overwrite\n    />\n  )\n})\n\nexport default InputTextRut","\nconst validateEmail = (email) => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nexport default validateEmail;","\nconst validateRut = (rut) => {\n  if (rut){\n    rut = rut.replace(/\\./g, '');\n    if (!/^[0-9]+[-]{1}[0-9kK]{1}$/.test(rut)){\n      return false;\n    }\n    const tmp = rut.split('-');\n    let dv = tmp[1];\n    let _rut = tmp[0];\n    if (dv === 'k' ) {\n      dv = 'K';\n    }\n    let M=0,S=1;\n    for(;_rut;_rut=Math.floor(_rut/10))\n      S = ( S + _rut%10 * (9 - M++%6 ) ) % 11;\n    const checkDv = S ? (S-1).toString() : 'K';\n    return (dv === checkDv);\n  } else {\n    return false;\n  }\n}\n\nexport default validateRut;","import React, { useEffect, useState } from 'react'\nimport validateRut from '../../helpers/ValidateRut'\nimport validateEmail from '../../helpers/ValidateEmail'\nimport SaveIcon from '@mui/icons-material/Save'\nimport axios from '../../services/axios'\nimport InputTextRut from '../../components/InputTextRut/InputTextRutComponent'\nimport { Alert, AlertTitle, Button, FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup, TextField, Typography } from '@mui/material'\nimport { showHideLoading } from '../../store/Nav/NavActionsCreator'\nimport { useDispatch } from 'react-redux'\nimport { Box } from '@mui/system'\nimport { useHistory } from 'react-router'\nimport { setSnackBar } from '../../store/Nav/NavActionsCreator'\n\nconst UserAddComponent = () => {\n  const dispatch = useDispatch()\n  const [firstname, setFirstname] = useState(null)\n  const [lastname, setLastname] = useState(null)  \n  const [rut, setRut] = useState(null)\n  const [checkRut, setCheckRut] = useState(true)\n  const [email, setEmail] = useState('')\n  const [checkEmail, setCheckEmail] = useState(true)\n  const [error, setError] = useState(false)\n  const [errorMsg, setErrorMsg] = useState('')\n  const [activeMsg, setActiveMsg] = useState('Seleccione Estado')\n  const [active, setActive] = useState(null)\n  const history = useHistory()\n\n\n\n\n  const validarRut = (_rut) => {\n    setRut(_rut)\n    if (validateRut(_rut)){\n      setCheckRut(false)\n    } else {\n      setCheckRut(true)\n    }\n  }\n\n  const validarEmail = (email) => {\n    setEmail(email)\n    if (validateEmail(email)){      \n      setCheckEmail(false)\n    } else {\n      setCheckEmail(true)\n    }\n  }\n\n\n\n\n  const [formValid, setFormValid] = useState(false)\n  async function handleSubmit() {\n    const [ruts, dv] = rut.split(/-/)\n    const formData = {\n      firstname,\n      lastname,\n      rut: ruts,\n      dv,\n      email,\n      active\n    }\n    setError(false)\n\n    dispatch(showHideLoading(true))\n    await axios.post(`/users`, formData)\n    .then( response => {\n      //const data = response.data.data\n      dispatch(setSnackBar({msg: 'Usuario Creado.', show: true}))\n      history.push('/admin/users')\n    })\n    .catch(error => {\n      if (error.response.data.data.messages) {\n        setErrorMsg(error.response.data.data.messages)\n      } else {\n        setErrorMsg(error.message)\n      }\n      setError(true)\n    })\n    .finally(()=> {\n      dispatch(showHideLoading(false))\n    })\n  }\n\n\n  useEffect(() => {\n    if (firstname && lastname && rut && email && active!==null && !checkEmail && !checkRut) {\n      setFormValid(true)\n    } else {\n      setFormValid(false)\n    }\n  },[firstname, lastname, rut, email, active, checkEmail, checkRut])\n \n\n\n\n\n\n  return (\n    <div style={{marginTop:'10px'}}>\n\n      <Typography variant=\"h5\" color=\"initial\">\n        Nuevo Usuario\n      </Typography>\n\n      <form>\n      <TextField\n        error={firstname ? false : true} \n        label=\"Nombre\" \n        id=\"firstname\" \n        value={firstname !== null ? firstname : ''}  \n        onChange={(e) => setFirstname(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n      <TextField \n        error={lastname ? false : true} \n        label=\"Apellido\" \n        id=\"lastname\" \n        value={lastname !== null ? lastname : ''}  \n        onChange={(e) => setLastname(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n      <TextField \n        error={checkRut} \n        label=\"R.U.T.\" \n        id=\"rut\" \n        value={rut !== null ? rut : ''}\n        onChange={(e) => validarRut(e.target.value.toUpperCase())}\n        fullWidth\n        InputProps={{\n          inputComponent: InputTextRut,\n        }}\n        margin=\"normal\"\n      />   \n      \n      <TextField \n        error={checkEmail} \n        label=\"Correo Eletrónico\" \n        id=\"email\" \n        value={email !== null ? email : ''}\n        onChange={(e) => validarEmail(e.target.value)}\n        fullWidth\n        margin=\"normal\"\n      />   \n\n\n\n      <Box sx={{ width: '100%'}}>\n        <FormControl component=\"fieldset\">\n          <FormLabel component=\"legend\">Usuario Activo</FormLabel>\n          <RadioGroup \n            row \n            aria-label=\"active\" \n            name=\"row-radio-buttons-group\"\n            value={active}\n            onChange={(e) => { \n              e.preventDefault(); \n              setActive(e.target.value)\n              setActiveMsg('')\n            }}  \n          >\n            <FormControlLabel value=\"true\" control={<Radio />} label=\"Sí\" />\n            <FormControlLabel value=\"false\" control={<Radio />} label=\"No\" />\n          </RadioGroup>\n          <FormHelperText style={{color:'#ff0000'}} color=\"error\">{activeMsg}</FormHelperText>\n        </FormControl>\n      </Box>\n\n\n      { error && (\n        <Alert severity=\"error\" style={{textAlign:\"left\", marginTop: \"20px\"}}>\n          <AlertTitle>Error</AlertTitle>\n          { errorMsg } \n        </Alert>\n      )}\n\n      <Button\n        onClick={handleSubmit}\n        startIcon={<SaveIcon />}\n        variant=\"contained\"\n        className={ `mt-20 ${formValid ? 'buttonPrimary' : ''}` }\n        disabled={!formValid}\n      >\n        Guardar\n      </Button>\n\n      </form>\n\n    </div>\n  )\n}\n\nexport default UserAddComponent\n","import { Button, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport UserAddComponent from '../../../components/UsersComponent/UserAddComponent'\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\n\nconst AdminUsersAddPage = () => {\n  return (\n    <>\n      <Typography variant=\"h3\" color=\"initial\">\n        Usuarios\n      </Typography>\n      <Box sx={{ width: '100%'}}>\n        <Link to=\"/admin/users\">\n          <Button  variant=\"outlined\" size=\"small\" startIcon={<ArrowBackIosIcon />}>\n            Usuarios\n          </Button>\n        </Link>\n        <UserAddComponent />\n      </Box>\n    </>\n  )\n}\n\nexport default AdminUsersAddPage\n","import axios from 'axios'\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_API_HOST\n})\n\ninstance.interceptors.request.use(function (config) {\n  if (window.localStorage.getItem('_token')) {\n    config.headers.Authorization = 'bearer ' + window.localStorage.getItem('_token')\n  }\n  return config\n}, function (error) {\n  return Promise.reject(error)\n})\n\nexport default instance\n"],"names":["InputTextRut","forwardRef","props","ref","onChange","other","mask","definitions","inputRef","onAccept","value","target","name","overwrite","email","test","String","toLowerCase","rut","replace","tmp","split","dv","_rut","M","S","Math","floor","toString","dispatch","useDispatch","useState","firstname","setFirstname","lastname","setLastname","setRut","checkRut","setCheckRut","setEmail","checkEmail","setCheckEmail","error","setError","errorMsg","setErrorMsg","activeMsg","setActiveMsg","active","setActive","history","useHistory","formValid","setFormValid","ruts","formData","showHideLoading","axios","then","response","setSnackBar","msg","show","push","catch","data","messages","message","finally","useEffect","style","marginTop","Typography","variant","color","TextField","label","id","e","fullWidth","margin","toUpperCase","validateRut","InputProps","inputComponent","validateEmail","validarEmail","Box","sx","width","FormControl","component","FormLabel","RadioGroup","row","preventDefault","FormControlLabel","control","Radio","FormHelperText","Alert","severity","textAlign","AlertTitle","Button","onClick","startIcon","Save","className","disabled","to","size","ArrowBackIos","instance","baseURL","process","env","REACT_APP_API_HOST","interceptors","request","use","config","window","localStorage","getItem","headers","Authorization","Promise","reject"],"sourceRoot":""}