"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[166],{12166:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(67294),a=n(2658),l=n(72642),o=n(18377),u=n(73727),i=n(66818),c=n(89066),s=n(94659),f=n(66186),m=n(93155),d=n(20382),v=n(39704),h=n(5977),p=n(15074);function g(e,t,n,r,a,l,o){try{var u=e[l](o),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function o(e){g(l,r,a,o,u,"next",e)}function u(e){g(l,r,a,o,u,"throw",e)}o(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(){var e=(0,h.UO)().id,t=(0,v.I0)(),n=E((0,r.useState)(null),2),o=n[0],u=n[1],g=E((0,r.useState)(null),2),w=g[0],b=g[1],Z=E((0,r.useState)(null),2),x=Z[0],A=Z[1],S=E((0,r.useState)(null),2),I=S[0],k=S[1],C=E((0,r.useState)(!1),2),P=C[0],R=C[1],_=E((0,r.useState)(""),2),N=_[0],O=_[1],T=(0,h.k6)(),U=E((0,r.useState)(!1),2),j=U[0],z=U[1];function L(){return L=y(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={title:o,image:w,abstract:x,externalurl:I},R(!1),t((0,d.dO)(!0)),n.next=5,c.Z.put("/news/".concat(e),r).then((function(e){t((0,d.c6)({msg:"Noticia Actualizada.",show:!0})),T.push("/admin/news")})).catch((function(e){e.response.data.data.messages?O(e.response.data.data.messages):O(e.message),R(!0)})).finally((function(){t((0,d.dO)(!1))}));case 5:case"end":return n.stop()}}),n)}))),L.apply(this,arguments)}return(0,r.useEffect)((function(){z(!!(o&&w&&x&&I))}),[o,w,x,I]),(0,r.useEffect)((function(){var n=function(){var n=y(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((0,d.dO)(!0)),n.next=3,c.Z.get("/news/".concat(e)).then((function(e){var t=e.data.data;u(t.title),b(t.image),A(t.abstract),k(t.externalurl)})).catch((function(e){t((0,d.c6)({msg:"Noticia no existe",show:!0})),T.push("/admin/news")})).finally((function(){t((0,d.dO)(!1))}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e,T]),r.createElement("div",{style:{marginTop:"10px"}},r.createElement(a.Z,{variant:"h5",color:"initial"},"Nueva Noticia"),r.createElement("form",null,r.createElement(s.Z,{error:!o,label:"Titulo",value:null!==o?o:"",onChange:function(e){return u(e.target.value)},fullWidth:!0,margin:"normal"}),r.createElement(s.Z,{error:!w,label:"URL Imagen",value:null!==w?w:"",onChange:function(e){return b(e.target.value)},fullWidth:!0,margin:"normal"}),r.createElement("div",null,r.createElement(a.Z,{style:{padding:"15px",color:""===x||null===x?"#ff0000":""}},"Resumen de la noticia"),r.createElement("div",{style:{border:""===x||null===x?"1px solid #ff0000":""}},r.createElement(p.M,{apiKey:process.env.REACT_APP_TYNY_API_KEY,value:x,init:{height:500,menubar:!1,branding:!1,language:"es"},onEditorChange:function(e,t){return A(e)}}))),r.createElement(s.Z,{error:!I,label:"URL de la Fuente",value:null!==I?I:"",onChange:function(e){return k(e.target.value)},fullWidth:!0,margin:"normal"}),P&&r.createElement(f.Z,{severity:"error",style:{textAlign:"left",marginTop:"20px"}},r.createElement(m.Z,null,"Error"),N),r.createElement(l.Z,{onClick:function(){return L.apply(this,arguments)},startIcon:r.createElement(i.Z,null),variant:"contained",className:"mt-20 ".concat(j?"buttonPrimary":""),disabled:!j},"Guardar")))},Z=n(20724),x=function(){return r.createElement("div",null,r.createElement(a.Z,{variant:"h3",color:"initial"},"Noticias"),r.createElement(o.Z,{sx:{width:"100%"}},r.createElement(u.rU,{to:"/admin/news"},r.createElement(l.Z,{variant:"outlined",size:"small",startIcon:r.createElement(Z.Z,null)},"Noticias")),r.createElement(b,null)))}},89066:function(e,t,n){var r=n(9669),a=n.n(r)().create({baseURL:process.env.REACT_APP_API_HOST});a.interceptors.request.use((function(e){return window.localStorage.getItem("_token")&&(e.headers.Authorization="bearer "+window.localStorage.getItem("_token")),e}),(function(e){return Promise.reject(e)})),t.Z=a}}]);
//# sourceMappingURL=166.bundle.js.map