{"version":3,"file":"dist/166.bundle.js","mappings":"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","sources":["webpack://front/./src/components/NewsComponent/NewsEditComponent.jsx","webpack://front/./src/pages/AdminPage/AdminNewsPage/AdminNewsEditPage.jsx","webpack://front/./src/services/axios.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport SaveIcon from '@mui/icons-material/Save'\nimport axios from '../../services/axios'\nimport { Alert, AlertTitle, Button, TextField, Typography } from '@mui/material'\nimport { showHideLoading } from '../../store/Nav/NavActionsCreator'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport { setSnackBar } from '../../store/Nav/NavActionsCreator'\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { useParams } from 'react-router-dom'\n\n\n\nconst NewsEditComponent = () => {\n  const { id } = useParams();\n\n  const dispatch = useDispatch()\n  const [title, setTitle] = useState(null)\n  const [image, setImage] = useState(null)  \n  const [abstract, setAbstract] = useState(null)  \n  const [externalurl, setExternalurl] = useState(null)  \n  const [error, setError] = useState(false)\n  const [errorMsg, setErrorMsg] = useState('')\n  const history = useHistory()\n\n\n\n  const [formValid, setFormValid] = useState(false)\n  async function handleSubmit() {\n    const formData = {\n      title,\n      image,\n      abstract,\n      externalurl\n    }\n    setError(false)\n\n    dispatch(showHideLoading(true))\n    await axios.put(`/news/${id}`, formData)\n    .then( response => {\n      //const data = response.data.data\n      dispatch(setSnackBar({msg: 'Noticia Actualizada.', show: true}))\n      history.push('/admin/news')\n    })\n    .catch(error => {\n      if (error.response.data.data.messages) {\n        setErrorMsg(error.response.data.data.messages)\n      } else {\n        setErrorMsg(error.message)\n      }\n      setError(true)\n    })\n    .finally(()=> {\n      dispatch(showHideLoading(false))\n    })\n  }\n\n\n  useEffect(() => {\n    if (title && image && abstract && externalurl) {\n      setFormValid(true)\n    } else {\n      setFormValid(false)\n    }\n  },[title, image, abstract, externalurl])\n \n\n  useEffect(() => {\n    const getData = async () => {\n      dispatch(showHideLoading(true))\n      await axios.get(`/news/${id}`)\n        .then( response => {\n          const data = response.data.data\n          setTitle(data.title)\n          setImage(data.image)\n          setAbstract(data.abstract)\n          setExternalurl(data.externalurl)\n        })\n        .catch( error => {\n          dispatch(setSnackBar({ msg: 'Noticia no existe', show: true}))\n          history.push('/admin/news');\n        })\n        .finally( () => {\n          dispatch(showHideLoading(false))\n        })\n    }\n\n    getData()\n\n  }, [dispatch, id, history])\n\n\n\n\n\n\n  return (\n    <div style={{marginTop:'10px'}}>\n\n      <Typography variant=\"h5\" color=\"initial\">\n        Nueva Noticia\n      </Typography>\n\n      <form>\n      <TextField\n        error={title ? false : true} \n        label=\"Titulo\" \n        value={title !== null ? title : ''}  \n        onChange={(e) => setTitle(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n      <TextField \n        error={image ? false : true} \n        label=\"URL Imagen\" \n        value={image !== null ? image : ''}  \n        onChange={(e) => setImage(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n\n      <div>\n        <Typography style={{padding: '15px', color: abstract === '' || abstract === null ? '#ff0000': ''}}>\n          Resumen de la noticia\n        </Typography>\n\n        <div style={{ border: abstract === '' || abstract === null ? '1px solid #ff0000': ''}}>\n        <Editor\n          apiKey={process.env.REACT_APP_TYNY_API_KEY}\n          value={abstract}\n          init={{\n            height: 500,\n            menubar: false,\n            branding: false,\n            language: 'es'\n          }}\n          onEditorChange={(content, editor) => setAbstract(content)}\n        />\n        </div>\n\n      </div>\n\n\n\n      <TextField \n        error={externalurl ? false : true} \n        label=\"URL de la Fuente\" \n        value={externalurl !== null ? externalurl : ''}  \n        onChange={(e) => setExternalurl(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n\n\n      { error && (\n        <Alert severity=\"error\" style={{textAlign:\"left\", marginTop: \"20px\"}}>\n          <AlertTitle>Error</AlertTitle>\n          { errorMsg } \n        </Alert>\n      )}\n\n      <Button\n        onClick={handleSubmit}\n        startIcon={<SaveIcon />}\n        variant=\"contained\"\n        className={ `mt-20 ${formValid ? 'buttonPrimary' : ''}` }\n        disabled={!formValid}\n      >\n        Guardar\n      </Button>\n\n      </form>\n\n    </div>\n  )\n}\n\n\nexport default NewsEditComponent\n","import React from 'react'\nimport { Button, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport { Link } from 'react-router-dom'\nimport NewsEditComponent from '../../../components/NewsComponent/NewsEditComponent'\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\n\nconst AdminNewsEditPage = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\" color=\"initial\">\n        Noticias\n      </Typography>\n      <Box sx={{ width: '100%'}}>\n        <Link to=\"/admin/news\">\n          <Button  variant=\"outlined\" size=\"small\" startIcon={<ArrowBackIosIcon />}>\n            Noticias\n          </Button>\n        </Link>\n        <NewsEditComponent />\n      </Box>\n    </div>\n  )\n}\n\nexport default AdminNewsEditPage\n","import axios from 'axios'\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_API_HOST\n})\n\ninstance.interceptors.request.use(function (config) {\n  if (window.localStorage.getItem('_token')) {\n    config.headers.Authorization = 'bearer ' + window.localStorage.getItem('_token')\n  }\n  return config\n}, function (error) {\n  return Promise.reject(error)\n})\n\nexport default instance\n"],"names":["id","useParams","dispatch","useDispatch","useState","title","setTitle","image","setImage","abstract","setAbstract","externalurl","setExternalurl","error","setError","errorMsg","setErrorMsg","history","useHistory","formValid","setFormValid","formData","showHideLoading","axios","then","response","setSnackBar","msg","show","push","catch","data","messages","message","finally","useEffect","getData","style","marginTop","Typography","variant","color","TextField","label","value","onChange","e","target","fullWidth","margin","padding","border","apiKey","process","env","REACT_APP_TYNY_API_KEY","init","height","menubar","branding","language","onEditorChange","content","editor","Alert","severity","textAlign","AlertTitle","Button","onClick","startIcon","Save","className","disabled","Box","sx","width","to","size","ArrowBackIos","instance","baseURL","REACT_APP_API_HOST","interceptors","request","use","config","window","localStorage","getItem","headers","Authorization","Promise","reject"],"sourceRoot":""}