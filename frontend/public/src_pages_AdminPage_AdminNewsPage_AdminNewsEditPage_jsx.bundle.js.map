{"version":3,"file":"src_pages_AdminPage_AdminNewsPage_AdminNewsEditPage_jsx.bundle.js","mappings":"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","sources":["webpack://front/./src/components/NewsComponent/NewsEditComponent.jsx","webpack://front/./src/pages/AdminPage/AdminNewsPage/AdminNewsEditPage.jsx","webpack://front/./src/services/axios.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport SaveIcon from '@mui/icons-material/Save'\nimport axios from '../../services/axios'\nimport { Alert, AlertTitle, Button, TextField, Typography } from '@mui/material'\nimport { showHideLoading } from '../../store/Nav/NavActionsCreator'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router'\nimport { setSnackBar } from '../../store/Nav/NavActionsCreator'\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { useParams } from 'react-router-dom'\n\n\n\nconst NewsEditComponent = () => {\n  const { id } = useParams();\n\n  const dispatch = useDispatch()\n  const [title, setTitle] = useState(null)\n  const [image, setImage] = useState(null)  \n  const [abstract, setAbstract] = useState(null)  \n  const [externalurl, setExternalurl] = useState(null)  \n  const [error, setError] = useState(false)\n  const [errorMsg, setErrorMsg] = useState('')\n  const history = useHistory()\n\n\n\n  const [formValid, setFormValid] = useState(false)\n  async function handleSubmit() {\n    const formData = {\n      title,\n      image,\n      abstract,\n      externalurl\n    }\n    setError(false)\n\n    dispatch(showHideLoading(true))\n    await axios.put(`/news/${id}`, formData)\n    .then( response => {\n      //const data = response.data.data\n      dispatch(setSnackBar({msg: 'Noticia Actualizada.', show: true}))\n      history.push('/admin/news')\n    })\n    .catch(error => {\n      if (error.response.data.data.messages) {\n        setErrorMsg(error.response.data.data.messages)\n      } else {\n        setErrorMsg(error.message)\n      }\n      setError(true)\n    })\n    .finally(()=> {\n      dispatch(showHideLoading(false))\n    })\n  }\n\n\n  useEffect(() => {\n    if (title && image && abstract && externalurl) {\n      setFormValid(true)\n    } else {\n      setFormValid(false)\n    }\n  },[title, image, abstract, externalurl])\n \n\n  useEffect(() => {\n    const getData = async () => {\n      dispatch(showHideLoading(true))\n      await axios.get(`/news/${id}`)\n        .then( response => {\n          const data = response.data.data\n          setTitle(data.title)\n          setImage(data.image)\n          setAbstract(data.abstract)\n          setExternalurl(data.externalurl)\n        })\n        .catch( error => {\n          dispatch(setSnackBar({ msg: 'Noticia no existe', show: true}))\n          history.push('/admin/news');\n        })\n        .finally( () => {\n          dispatch(showHideLoading(false))\n        })\n    }\n\n    getData()\n\n  }, [dispatch, id, history])\n\n\n\n\n\n\n  return (\n    <div style={{marginTop:'10px'}}>\n\n      <Typography variant=\"h5\" color=\"initial\">\n        Nueva Noticia\n      </Typography>\n\n      <form>\n      <TextField\n        error={title ? false : true} \n        label=\"Titulo\" \n        value={title !== null ? title : ''}  \n        onChange={(e) => setTitle(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n      <TextField \n        error={image ? false : true} \n        label=\"URL Imagen\" \n        value={image !== null ? image : ''}  \n        onChange={(e) => setImage(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n\n      <div>\n        <Typography style={{padding: '15px', color: abstract === '' || abstract === null ? '#ff0000': ''}}>\n          Resumen de la noticia\n        </Typography>\n\n        <div style={{ border: abstract === '' || abstract === null ? '1px solid #ff0000': ''}}>\n        <Editor\n          apiKey={process.env.REACT_APP_TYNY_API_KEY}\n          value={abstract}\n          init={{\n            height: 500,\n            menubar: false,\n            branding: false,\n            language: 'es'\n          }}\n          onEditorChange={(content, editor) => setAbstract(content)}\n        />\n        </div>\n\n      </div>\n\n\n\n      <TextField \n        error={externalurl ? false : true} \n        label=\"URL de la Fuente\" \n        value={externalurl !== null ? externalurl : ''}  \n        onChange={(e) => setExternalurl(e.target.value)} \n        fullWidth\n        margin=\"normal\"\n      />\n\n\n\n      { error && (\n        <Alert severity=\"error\" style={{textAlign:\"left\", marginTop: \"20px\"}}>\n          <AlertTitle>Error</AlertTitle>\n          { errorMsg } \n        </Alert>\n      )}\n\n      <Button\n        onClick={handleSubmit}\n        startIcon={<SaveIcon />}\n        variant=\"contained\"\n        className={ `mt-20 ${formValid ? 'buttonPrimary' : ''}` }\n        disabled={!formValid}\n      >\n        Guardar\n      </Button>\n\n      </form>\n\n    </div>\n  )\n}\n\n\nexport default NewsEditComponent\n","import React from 'react'\nimport { Button, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport { Link } from 'react-router-dom'\nimport NewsEditComponent from '../../../components/NewsComponent/NewsEditComponent'\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\n\nconst AdminNewsEditPage = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\" color=\"initial\">\n        Noticias\n      </Typography>\n      <Box sx={{ width: '100%'}}>\n        <Link to=\"/admin/news\">\n          <Button  variant=\"outlined\" size=\"small\" startIcon={<ArrowBackIosIcon />}>\n            Noticias\n          </Button>\n        </Link>\n        <NewsEditComponent />\n      </Box>\n    </div>\n  )\n}\n\nexport default AdminNewsEditPage\n","import axios from 'axios'\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_API_HOST\n})\n\ninstance.interceptors.request.use(function (config) {\n  if (window.localStorage.getItem('_token')) {\n    config.headers.Authorization = 'bearer ' + window.localStorage.getItem('_token')\n  }\n  return config\n}, function (error) {\n  return Promise.reject(error)\n})\n\nexport default instance\n"],"names":["React","useEffect","useState","SaveIcon","axios","Alert","AlertTitle","Button","TextField","Typography","showHideLoading","useDispatch","useHistory","setSnackBar","Editor","useParams","NewsEditComponent","id","dispatch","title","setTitle","image","setImage","abstract","setAbstract","externalurl","setExternalurl","error","setError","errorMsg","setErrorMsg","history","formValid","setFormValid","handleSubmit","formData","put","then","response","msg","show","push","catch","data","messages","message","finally","getData","get","marginTop","e","target","value","padding","color","border","process","env","REACT_APP_TYNY_API_KEY","height","menubar","branding","language","content","editor","textAlign","Box","Link","ArrowBackIosIcon","AdminNewsEditPage","width","instance","create","baseURL","REACT_APP_API_HOST","interceptors","request","use","config","window","localStorage","getItem","headers","Authorization","Promise","reject"],"sourceRoot":""}